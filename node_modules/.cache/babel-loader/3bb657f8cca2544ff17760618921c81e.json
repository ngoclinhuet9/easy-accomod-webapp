{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/src/components/admin/preview-room/Actions.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Box, Button, Flex } from '@chakra-ui/react';\nimport axios from 'utils/axios';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { firestore } from 'firebase-config';\n\nvar Actions = function Actions(_ref) {\n  _s();\n\n  var roomId = _ref.roomId,\n      ownerId = _ref.ownerId;\n  var params = useParams();\n  var history = useHistory();\n\n  var handleAccept = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              axios.put(\"rooms/\".concat(params === null || params === void 0 ? void 0 : params.room_id, \"/approve\")).then(function (res) {\n                console.log(res);\n              }).catch(function (err) {\n                console.log(err);\n              });\n              _context.next = 4;\n              return firestore().collection('notifications').add({\n                sender: '',\n                senderType: 'admin',\n                receiver: ownerId,\n                receiverType: 'owner',\n                roomId: roomId,\n                type: 'APPROVE_ROOM'\n              });\n\n            case 4:\n              history.push('/profile');\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function handleAccept() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleReject = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              axios.put(\"rooms/\".concat(params === null || params === void 0 ? void 0 : params.room_id, \"/reject\")).then(function (res) {\n                console.log(res);\n                debugger;\n              }).catch(function (err) {\n                console.log(err);\n              });\n              _context2.next = 4;\n              return firestore().collection('notifications').add({\n                sender: '',\n                senderType: 'admin',\n                receiver: ownerId,\n                receiverType: 'owner',\n                roomId: roomId,\n                type: 'REJECT_ROOM'\n              });\n\n            case 4:\n              history.push('/prof');\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function handleReject() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    padding: \"1.5rem 0\",\n    children: /*#__PURE__*/_jsxDEV(Flex, {\n      flexDirection: \"row\",\n      justifyContent: \"flex-end\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleAccept,\n        outline: \"0\",\n        fontSize: \"1.25rem\",\n        colorScheme: \"green\",\n        mr: \"10px\",\n        fontWeight: \"500\",\n        children: \"\\u0110\\u1ED3ng \\xFD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleReject,\n        outline: \"0\",\n        fontSize: \"1.25rem\",\n        colorScheme: \"red\",\n        fontWeight: \"500\",\n        children: \"T\\u1EEB Ch\\u1ED1i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Actions, \"H3zJ6DMG907Icw9nSoJ6x78ukhE=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = Actions;\nexport default Actions;\n\nvar _c;\n\n$RefreshReg$(_c, \"Actions\");","map":{"version":3,"sources":["/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/src/components/admin/preview-room/Actions.tsx"],"names":["Box","Button","Flex","axios","useParams","useHistory","firestore","Actions","roomId","ownerId","params","history","handleAccept","put","room_id","then","res","console","log","catch","err","collection","add","sender","senderType","receiver","receiverType","type","push","handleReject"],"mappings":";;;;;;;;AAAA,SAASA,GAAT,EAAcC,MAAd,EAAsBC,IAAtB,QAA4C,kBAA5C;AAEA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,kBAAtC;AACA,SAASC,SAAT,QAA0B,iBAA1B;;AAKA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAMV;AAAA;;AAAA,MALJC,MAKI,QALJA,MAKI;AAAA,MAJJC,OAII,QAJJA,OAII;AACJ,MAAMC,MAAc,GAAGN,SAAS,EAAhC;AACA,MAAMO,OAAO,GAAGN,UAAU,EAA1B;;AACA,MAAMO,YAAY;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAEjBT,cAAAA,KAAK,CACFU,GADH,iBACgBH,MADhB,aACgBA,MADhB,uBACgBA,MAAM,CAAEI,OADxB,eAEGC,IAFH,CAEQ,UAACC,GAAD,EAAS;AACbC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,eAJH,EAKGG,KALH,CAKS,UAACC,GAAD,EAAS;AACdH,gBAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,eAPH;AAFiB;AAAA,qBAUXd,SAAS,GAAGe,UAAZ,CAAuB,eAAvB,EAAwCC,GAAxC,CAA4C;AAChDC,gBAAAA,MAAM,EAAE,EADwC;AAEhDC,gBAAAA,UAAU,EAAE,OAFoC;AAGhDC,gBAAAA,QAAQ,EAAEhB,OAHsC;AAIhDiB,gBAAAA,YAAY,EAAE,OAJkC;AAKhDlB,gBAAAA,MAAM,EAANA,MALgD;AAMhDmB,gBAAAA,IAAI,EAAE;AAN0C,eAA5C,CAVW;;AAAA;AAkBjBhB,cAAAA,OAAO,CAACiB,IAAR,CAAa,UAAb;AAlBiB;AAAA;;AAAA;AAAA;AAAA;AAoBjBX,cAAAA,OAAO,CAACC,GAAR;;AApBiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZN,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAuBA,MAAMiB,YAAY;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAEjB1B,cAAAA,KAAK,CACFU,GADH,iBACgBH,MADhB,aACgBA,MADhB,uBACgBA,MAAM,CAAEI,OADxB,cAEGC,IAFH,CAEQ,UAACC,GAAD,EAAS;AACbC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA;AACD,eALH,EAMGG,KANH,CAMS,UAACC,GAAD,EAAS;AACdH,gBAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,eARH;AAFiB;AAAA,qBAWXd,SAAS,GAAGe,UAAZ,CAAuB,eAAvB,EAAwCC,GAAxC,CAA4C;AAChDC,gBAAAA,MAAM,EAAE,EADwC;AAEhDC,gBAAAA,UAAU,EAAE,OAFoC;AAGhDC,gBAAAA,QAAQ,EAAEhB,OAHsC;AAIhDiB,gBAAAA,YAAY,EAAE,OAJkC;AAKhDlB,gBAAAA,MAAM,EAANA,MALgD;AAMhDmB,gBAAAA,IAAI,EAAE;AAN0C,eAA5C,CAXW;;AAAA;AAmBjBhB,cAAAA,OAAO,CAACiB,IAAR,CAAa,OAAb;AAnBiB;AAAA;;AAAA;AAAA;AAAA;AAqBjBX,cAAAA,OAAO,CAACC,GAAR;;AArBiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZW,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAwBA,sBACE,QAAC,GAAD;AAAK,IAAA,OAAO,EAAC,UAAb;AAAA,2BACE,QAAC,IAAD;AAAM,MAAA,aAAa,EAAC,KAApB;AAA0B,MAAA,cAAc,EAAC,UAAzC;AAAA,8BACE,QAAC,MAAD;AACE,QAAA,OAAO,EAAEjB,YADX;AAEE,QAAA,OAAO,EAAC,GAFV;AAGE,QAAA,QAAQ,EAAC,SAHX;AAIE,QAAA,WAAW,EAAC,OAJd;AAKE,QAAA,EAAE,EAAC,MALL;AAME,QAAA,UAAU,EAAC,KANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAUE,QAAC,MAAD;AACE,QAAA,OAAO,EAAEiB,YADX;AAEE,QAAA,OAAO,EAAC,GAFV;AAGE,QAAA,QAAQ,EAAC,SAHX;AAIE,QAAA,WAAW,EAAC,KAJd;AAKE,QAAA,UAAU,EAAC,KALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,WADF;AAuBD,CA/ED;;GAAMtB,O;UAOmBH,S,EACPC,U;;;KARZE,O;AAiFN,eAAeA,OAAf","sourcesContent":["import { Box, Button, Flex, useToast } from '@chakra-ui/react'\nimport { useState, useEffect } from 'react'\nimport axios from 'utils/axios'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { firestore } from 'firebase-config'\n\ntype Params = {\n  room_id: string\n}\nconst Actions = ({\n  roomId,\n  ownerId,\n}: {\n  roomId: string | undefined\n  ownerId: string | undefined\n}) => {\n  const params: Params = useParams()\n  const history = useHistory()\n  const handleAccept = async () => {\n    try {\n      axios\n        .put(`rooms/${params?.room_id}/approve`)\n        .then((res) => {\n          console.log(res)\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n      await firestore().collection('notifications').add({\n        sender: '',\n        senderType: 'admin',\n        receiver: ownerId,\n        receiverType: 'owner',\n        roomId,\n        type: 'APPROVE_ROOM',\n      })\n      history.push('/profile')\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  const handleReject = async () => {\n    try {\n      axios\n        .put(`rooms/${params?.room_id}/reject`)\n        .then((res) => {\n          console.log(res)\n          debugger\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n      await firestore().collection('notifications').add({\n        sender: '',\n        senderType: 'admin',\n        receiver: ownerId,\n        receiverType: 'owner',\n        roomId,\n        type: 'REJECT_ROOM',\n      })\n      history.push('/prof')\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  return (\n    <Box padding='1.5rem 0'>\n      <Flex flexDirection='row' justifyContent='flex-end'>\n        <Button\n          onClick={handleAccept}\n          outline='0'\n          fontSize='1.25rem'\n          colorScheme='green'\n          mr='10px'\n          fontWeight='500'>\n          Đồng ý\n        </Button>\n        <Button\n          onClick={handleReject}\n          outline='0'\n          fontSize='1.25rem'\n          colorScheme='red'\n          fontWeight='500'>\n          Từ Chối\n        </Button>\n      </Flex>\n    </Box>\n  )\n}\n\nexport default Actions\n"]},"metadata":{},"sourceType":"module"}