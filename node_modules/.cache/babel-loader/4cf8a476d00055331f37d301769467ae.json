{"ast":null,"code":"import _objectSpread from \"/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/src/pages/admin/PendingOwner.tsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react/display-name */\nimport { Table } from 'antd';\nimport { Button, Box } from '@chakra-ui/react';\nimport React, { useEffect, useState } from 'react';\nimport axios from 'utils/axios';\n\nfunction PendingOwner() {\n  _s();\n\n  var _this = this;\n\n  var columns = [{\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name',\n    render: function render(text) {\n      return /*#__PURE__*/_jsxDEV(\"a\", {\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 33\n      }, _this);\n    }\n  }, {\n    title: 'Email',\n    dataIndex: 'email',\n    key: 'email',\n    render: function render(text) {\n      return /*#__PURE__*/_jsxDEV(\"a\", {\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 33\n      }, _this);\n    }\n  }, {\n    title: 'CMND',\n    dataIndex: 'identity',\n    key: 'identity',\n    render: function render(text) {\n      return /*#__PURE__*/_jsxDEV(\"a\", {\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 33\n      }, _this);\n    }\n  }, {\n    title: 'Address',\n    dataIndex: 'address',\n    key: 'address'\n  }, {\n    title: 'Phone',\n    dataIndex: 'phone',\n    key: 'phone'\n  }, {\n    title: 'Action',\n    dataIndex: '_id',\n    key: '_id',\n    render: function render(id) {\n      return /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          colorScheme: \"green\",\n          mr: \"10px\",\n          onClick: function onClick() {\n            return handleAccept(id);\n          },\n          children: \"Ch\\u1EA5p nh\\u1EADn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Button, {\n          colorScheme: \"red\",\n          onClick: function onClick() {\n            return handleReject(id);\n          },\n          children: \"T\\u1EEB ch\\u1ED1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, _this);\n    }\n  }];\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      pendingList = _useState2[0],\n      setPendingList = _useState2[1];\n\n  useEffect(function () {\n    axios.get(\"/owners/pending\").then(function (res) {\n      var data = res.data.data;\n      var temp = [];\n      data.forEach(function (item) {\n        temp.push(_objectSpread(_objectSpread({}, item.owner), {}, {\n          _id: item._id\n        }));\n      });\n      setPendingList(temp);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n\n  var handleAccept = function handleAccept(id) {\n    setPendingList(pendingList.filter(function (item) {\n      return item._id !== id;\n    }));\n    console.log(pendingList);\n    axios.put(\"owners/\".concat(id, \"/approve\")).then(function (res) {\n      console.log(res);\n      debugger;\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  var handleReject = function handleReject(id) {\n    setPendingList(pendingList.filter(function (item) {\n      return item._id !== id;\n    }));\n    console.log(pendingList);\n    axios.put(\"owners/\".concat(id, \"/reject\")).then(function (res) {\n      console.log(res);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Table, {\n    columns: columns,\n    dataSource: pendingList\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 10\n  }, this);\n}\n\n_s(PendingOwner, \"t3GaiUmCSfZzmvKcjM2bXuPsQu4=\");\n\n_c = PendingOwner;\nexport default PendingOwner;\n\nvar _c;\n\n$RefreshReg$(_c, \"PendingOwner\");","map":{"version":3,"sources":["/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/src/pages/admin/PendingOwner.tsx"],"names":["Table","Button","Box","React","useEffect","useState","axios","PendingOwner","columns","title","dataIndex","key","render","text","id","handleAccept","handleReject","pendingList","setPendingList","get","then","res","data","temp","forEach","item","push","owner","_id","catch","err","console","log","filter","put"],"mappings":"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","sourcesContent":["/* eslint-disable react/display-name */\nimport { Table } from 'antd'\nimport { Button, Box } from '@chakra-ui/react'\nimport React, { useEffect, useState } from 'react'\nimport axios from 'utils/axios'\n\nfunction PendingOwner() {\n  const columns = [\n    {\n      title: 'Name',\n      dataIndex: 'name',\n      key: 'name',\n      render: (text: string) => <a>{text}</a>,\n    },\n    {\n      title: 'Email',\n      dataIndex: 'email',\n      key: 'email',\n      render: (text: string) => <a>{text}</a>,\n    },\n    {\n      title: 'CMND',\n      dataIndex: 'identity',\n      key: 'identity',\n      render: (text: string) => <a>{text}</a>,\n    },\n    {\n      title: 'Address',\n      dataIndex: 'address',\n      key: 'address',\n    },\n    {\n      title: 'Phone',\n      dataIndex: 'phone',\n      key: 'phone',\n    },\n    {\n      title: 'Action',\n      dataIndex: '_id',\n      key: '_id',\n      render: (id: string) => (\n        <Box>\n          <Button\n            colorScheme='green'\n            mr='10px'\n            onClick={() => handleAccept(id)}>\n            Chấp nhận\n          </Button>\n          <Button colorScheme='red' onClick={() => handleReject(id)}>\n            Từ chối\n          </Button>\n        </Box>\n      ),\n    },\n  ]\n  const [pendingList, setPendingList] = useState<any>([])\n  useEffect(() => {\n    axios\n      .get(`/owners/pending`)\n      .then((res) => {\n        const { data } = res.data\n        const temp: any = []\n        data.forEach((item: any) => {\n          temp.push({ ...item.owner, _id: item._id })\n        })\n        setPendingList(temp)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }, [])\n  const handleAccept = (id: any) => {\n    setPendingList(pendingList.filter((item: any) => item._id !== id))\n    console.log(pendingList)\n    axios\n      .put(`owners/${id}/approve`)\n      .then((res) => {\n        console.log(res)\n        debugger\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n  const handleReject = (id: any) => {\n    setPendingList(pendingList.filter((item: any) => item._id !== id))\n    console.log(pendingList)\n    axios\n      .put(`owners/${id}/reject`)\n      .then((res) => {\n        console.log(res)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  return <Table columns={columns} dataSource={pendingList} />\n}\n\nexport default PendingOwner\n"]},"metadata":{},"sourceType":"module"}