{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/hoangdk/Documents/LinhNgu/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/hoangdk/Documents/LinhNgu/easy-accomod-webapp/src/components/owner/Action.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Box, Button, Flex, useToast } from '@chakra-ui/react';\nimport { useEffect, useState } from 'react';\nimport axios from 'utils/axios';\nimport { useParams, useRouteMatch, useHistory } from 'react-router-dom';\n\nvar Actions = function Actions(props) {\n  _s();\n\n  var isPay = props.isPay,\n      status = props.status;\n  var toast = useToast();\n  var params = useParams();\n  var router = useRouteMatch();\n  var history = useHistory();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      typePage = _useState2[0],\n      setTypeState = _useState2[1];\n\n  useEffect(function () {\n    if (router.url.includes('rent_preview')) {\n      setTypeState('rent_preview');\n    } else if (router.url.includes('rent')) {\n      setTypeState('rent');\n    } else if (router.url.includes('pending')) {\n      setTypeState('pending');\n    } else if (router.url.includes('live_room')) {\n      setTypeState('live_room');\n    }\n  }, []);\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      payFlag = _useState4[0],\n      setPayFlag = _useState4[1];\n\n  useEffect(function () {\n    return setPayFlag(isPay);\n  }, [isPay]);\n\n  var handleAccept = function handleAccept(id) {\n    axios.put(\"owner/rooms/\".concat(params === null || params === void 0 ? void 0 : params.room_id, \"/rent\")).then(function (res) {\n      setPayFlag(true);\n      toast({\n        title: 'Thành công',\n        description: 'Bạn đã cho thuê thành công',\n        status: 'success',\n        duration: 3000,\n        isClosable: true,\n        position: 'top'\n      });\n      history.push('/');\n    }).catch(function (err) {\n      console.log(err);\n      toast({\n        title: 'Có sự cố xảy ra',\n        description: 'Bạn không đủ quyền để truy cập trang này',\n        status: 'error',\n        duration: 3000,\n        isClosable: true,\n        position: 'top'\n      });\n    });\n  };\n\n  var removeRent = function removeRent(id) {\n    axios.put(\"owner/rooms/\".concat(params === null || params === void 0 ? void 0 : params.room_id, \"/return\")).then(function (res) {\n      toast({\n        title: 'Thành công',\n        description: 'Bạn đã cho thuê thành công',\n        status: 'success',\n        duration: 3000,\n        isClosable: true,\n        position: 'top'\n      });\n      history.push('/');\n    }).catch(function (err) {\n      console.log(err);\n      toast({\n        title: 'Có sự cố xảy ra',\n        description: 'Bạn không đủ quyền để truy cập trang này',\n        status: 'error',\n        duration: 3000,\n        isClosable: true,\n        position: 'top'\n      });\n    });\n  };\n\n  var deleteRoom = function deleteRoom(id) {\n    axios.delete(\"owner/rooms/\".concat(params === null || params === void 0 ? void 0 : params.room_id, \"/delete\")).then(function (res) {\n      toast({\n        title: 'Thành công',\n        description: 'Bạn đã xóa phòng thành công',\n        status: 'success',\n        duration: 3000,\n        isClosable: true,\n        position: 'top'\n      });\n      history.push('/');\n    }).catch(function (err) {\n      console.log(err);\n      toast({\n        title: 'Có sự cố xảy ra',\n        description: 'Bạn không đủ quyền để truy cập trang này',\n        status: 'error',\n        duration: 3000,\n        isClosable: true,\n        position: 'top'\n      });\n    });\n  };\n\n  var getCondition = function getCondition() {\n    return typePage === 'rent_preview' && !payFlag;\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    padding: \"1.5rem 0\",\n    children: /*#__PURE__*/_jsxDEV(Flex, {\n      flexDirection: \"row\",\n      justifyContent: \"flex-end\",\n      children: [getCondition() && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          outline: \"0\",\n          onClick: handleAccept,\n          fontSize: \"1.25rem\",\n          colorScheme: \"green\",\n          mr: \"10px\",\n          fontWeight: \"500\",\n          children: \"Cho Thu\\xEA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(Button, {\n          outline: \"0\",\n          onClick: removeRent,\n          fontSize: \"1.25rem\",\n          colorScheme: \"red\",\n          mr: \"10px\",\n          fontWeight: \"500\",\n          children: \"T\\u1EEB ch\\u1ED1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true), (status === 'REJECTED' || typePage === 'live_room') && /*#__PURE__*/_jsxDEV(Button, {\n        outline: \"0\",\n        onClick: deleteRoom,\n        fontSize: \"1.25rem\",\n        colorScheme: \"red\",\n        mr: \"10px\",\n        fontWeight: \"500\",\n        children: \"X\\xF3a ph\\xF2ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Actions, \"TnCobysRdDXEs76oUSIEX6LRki4=\", false, function () {\n  return [useToast, useParams, useRouteMatch, useHistory];\n});\n\n_c = Actions;\nexport default Actions;\n\nvar _c;\n\n$RefreshReg$(_c, \"Actions\");","map":{"version":3,"sources":["/home/hoangdk/Documents/LinhNgu/easy-accomod-webapp/src/components/owner/Action.tsx"],"names":["Box","Button","Flex","useToast","useEffect","useState","axios","useParams","useRouteMatch","useHistory","Actions","props","isPay","status","toast","params","router","history","typePage","setTypeState","url","includes","payFlag","setPayFlag","handleAccept","id","put","room_id","then","res","title","description","duration","isClosable","position","push","catch","err","console","log","removeRent","deleteRoom","delete","getCondition"],"mappings":"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","sourcesContent":["import { Box, Button, Flex, useToast } from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\nimport axios from 'utils/axios'\nimport { useParams, useRouteMatch, useHistory } from 'react-router-dom'\n\ntype Params = {\n  room_id: string\n}\nconst Actions = (props: any) => {\n  const { isPay, status } = props\n  const toast = useToast()\n  const params: Params = useParams()\n  const router = useRouteMatch()\n  const history = useHistory()\n\n  const [typePage, setTypeState] = useState('')\n\n  useEffect(() => {\n    if (router.url.includes('rent_preview')) {\n      setTypeState('rent_preview')\n    } else if (router.url.includes('rent')) {\n      setTypeState('rent')\n    } else if (router.url.includes('pending')) {\n      setTypeState('pending')\n    } else if (router.url.includes('live_room')) {\n      setTypeState('live_room')\n    }\n  }, [])\n\n  const [payFlag, setPayFlag] = useState(false)\n  useEffect(() => setPayFlag(isPay), [isPay])\n  const handleAccept = (id: any) => {\n    axios\n      .put(`owner/rooms/${params?.room_id}/rent`)\n      .then((res) => {\n        setPayFlag(true)\n        toast({\n          title: 'Thành công',\n          description: 'Bạn đã cho thuê thành công',\n          status: 'success',\n          duration: 3000,\n          isClosable: true,\n          position: 'top',\n        })\n        history.push('/')\n      })\n      .catch((err) => {\n        console.log(err)\n        toast({\n          title: 'Có sự cố xảy ra',\n          description: 'Bạn không đủ quyền để truy cập trang này',\n          status: 'error',\n          duration: 3000,\n          isClosable: true,\n          position: 'top',\n        })\n      })\n  }\n\n  const removeRent = (id: any) => {\n    axios\n      .put(`owner/rooms/${params?.room_id}/return`)\n      .then((res) => {\n        toast({\n          title: 'Thành công',\n          description: 'Bạn đã cho thuê thành công',\n          status: 'success',\n          duration: 3000,\n          isClosable: true,\n          position: 'top',\n        })\n        history.push('/')\n      })\n      .catch((err) => {\n        console.log(err)\n        toast({\n          title: 'Có sự cố xảy ra',\n          description: 'Bạn không đủ quyền để truy cập trang này',\n          status: 'error',\n          duration: 3000,\n          isClosable: true,\n          position: 'top',\n        })\n      })\n  }\n\n  const deleteRoom = (id: any) => {\n    axios\n      .delete(`owner/rooms/${params?.room_id}/delete`)\n      .then((res) => {\n        toast({\n          title: 'Thành công',\n          description: 'Bạn đã xóa phòng thành công',\n          status: 'success',\n          duration: 3000,\n          isClosable: true,\n          position: 'top',\n        })\n        history.push('/')\n      })\n      .catch((err) => {\n        console.log(err)\n        toast({\n          title: 'Có sự cố xảy ra',\n          description: 'Bạn không đủ quyền để truy cập trang này',\n          status: 'error',\n          duration: 3000,\n          isClosable: true,\n          position: 'top',\n        })\n      })\n  }\n\n  const getCondition = (): boolean => {\n    return typePage === 'rent_preview' && !payFlag\n  }\n\n  return (\n    <Box padding='1.5rem 0'>\n      <Flex flexDirection='row' justifyContent='flex-end'>\n        {getCondition() && (\n          <>\n            <Button\n              outline='0'\n              onClick={handleAccept}\n              fontSize='1.25rem'\n              colorScheme='green'\n              mr='10px'\n              fontWeight='500'>\n              Cho Thuê\n            </Button>\n            <Button\n              outline='0'\n              onClick={removeRent}\n              fontSize='1.25rem'\n              colorScheme='red'\n              mr='10px'\n              fontWeight='500'>\n              Từ chối\n            </Button>\n          </>\n        )}\n\n        {(status === 'REJECTED' || typePage === 'live_room') && (\n          <Button\n            outline='0'\n            onClick={deleteRoom}\n            fontSize='1.25rem'\n            colorScheme='red'\n            mr='10px'\n            fontWeight='500'>\n            Xóa phòng\n          </Button>\n        )}\n      </Flex>\n    </Box>\n  )\n}\n\nexport default Actions\n"]},"metadata":{},"sourceType":"module"}