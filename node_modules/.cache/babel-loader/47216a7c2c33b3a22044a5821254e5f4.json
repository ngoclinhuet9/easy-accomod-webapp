{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/hoangdk/Documents/LinhNgu/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/hoangdk/Documents/LinhNgu/easy-accomod-webapp/src/components/owner/Action.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Box, Button, Flex, useToast } from '@chakra-ui/react';\nimport { useEffect, useState } from 'react';\nimport axios from 'utils/axios';\nimport { useParams, useRouteMatch } from 'react-router-dom';\n\nvar Actions = function Actions(props) {\n  _s();\n\n  var isPay = props.isPay,\n      status = props.status;\n  var toast = useToast();\n  var params = useParams();\n  var router = useRouteMatch();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      typePage = _useState2[0],\n      setTypeState = _useState2[1];\n\n  useEffect(function () {\n    if (router.url.includes('rent_preview')) {\n      setTypeState('rent_preview');\n    } else if (router.url.includes('rent')) {\n      setTypeState('rent');\n    } else if (router.url.includes('pending')) {\n      setTypeState('pending');\n    } else if (router.url.includes('live_room')) {\n      setTypeState('live_room');\n    }\n  }, []);\n\n  var _useState3 = useState(isPay),\n      _useState4 = _slicedToArray(_useState3, 2),\n      payFlag = _useState4[0],\n      setPayFlag = _useState4[1];\n\n  var handleAccept = function handleAccept(id) {\n    axios.put(\"owner/rooms/\".concat(params === null || params === void 0 ? void 0 : params.room_id, \"/rent\")).then(function (res) {\n      setPayFlag(true);\n      toast({\n        title: 'Thành công',\n        description: 'Bạn đã cho thuê thành công',\n        status: 'success',\n        duration: 3000,\n        isClosable: true,\n        position: 'top'\n      });\n    }).catch(function (err) {\n      console.log(err);\n      toast({\n        title: 'Có sự cố xảy ra',\n        description: 'Bạn không đủ quyền để truy cập trang này',\n        status: 'error',\n        duration: 3000,\n        isClosable: true,\n        position: 'top'\n      });\n    });\n  };\n\n  var removeRent = function removeRent(id) {\n    axios.delete(\"owner/rooms/\".concat(params === null || params === void 0 ? void 0 : params.room_id, \"/rent\")).then(function (res) {\n      setPayFlag(true);\n      toast({\n        title: 'Thành công',\n        description: 'Bạn đã cho thuê thành công',\n        status: 'success',\n        duration: 3000,\n        isClosable: true,\n        position: 'top'\n      });\n    }).catch(function (err) {\n      console.log(err);\n      toast({\n        title: 'Có sự cố xảy ra',\n        description: 'Bạn không đủ quyền để truy cập trang này',\n        status: 'error',\n        duration: 3000,\n        isClosable: true,\n        position: 'top'\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    padding: \"1.5rem 0\",\n    children: /*#__PURE__*/_jsxDEV(Flex, {\n      flexDirection: \"row\",\n      justifyContent: \"flex-end\",\n      children: [status !== 'REJECTED' && typePage !== 'pedding' && typePage !== 'live_room' && !payFlag && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          outline: \"0\",\n          onClick: handleAccept,\n          fontSize: \"1.25rem\",\n          colorScheme: \"green\",\n          mr: \"10px\",\n          fontWeight: \"500\",\n          children: \"Cho Thu\\xEA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, _this), /*#__PURE__*/_jsxDEV(Button, {\n          outline: \"0\",\n          onClick: removeRent,\n          fontSize: \"1.25rem\",\n          colorScheme: \"red\",\n          mr: \"10px\",\n          fontWeight: \"500\",\n          children: \"T\\u1EEB ch\\u1ED1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, _this)]\n      }, void 0, true), (status === 'REJECTED' || typePage === 'live_room') && /*#__PURE__*/_jsxDEV(Button, {\n        outline: \"0\",\n        onClick: removeRent,\n        fontSize: \"1.25rem\",\n        colorScheme: \"red\",\n        mr: \"10px\",\n        fontWeight: \"500\",\n        children: \"X\\xF3a ph\\xF2ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Actions, \"4i5C3gYT6MAT0Rsb57U+vFt2cKI=\", false, function () {\n  return [useToast, useParams, useRouteMatch];\n});\n\n_c = Actions;\nexport default Actions;\n\nvar _c;\n\n$RefreshReg$(_c, \"Actions\");","map":{"version":3,"sources":["/home/hoangdk/Documents/LinhNgu/easy-accomod-webapp/src/components/owner/Action.tsx"],"names":["Box","Button","Flex","useToast","useEffect","useState","axios","useParams","useRouteMatch","Actions","props","isPay","status","toast","params","router","typePage","setTypeState","url","includes","payFlag","setPayFlag","handleAccept","id","put","room_id","then","res","title","description","duration","isClosable","position","catch","err","console","log","removeRent","delete"],"mappings":"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","sourcesContent":["import { Box, Button, Flex, useToast } from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\nimport axios from 'utils/axios'\nimport { useParams, useRouteMatch } from 'react-router-dom'\n\ntype Params = {\n  room_id: string\n}\nconst Actions = (props: any) => {\n  const { isPay, status } = props\n  const toast = useToast()\n  const params: Params = useParams()\n  const router = useRouteMatch()\n\n  const [typePage, setTypeState] = useState('')\n\n  useEffect(() => {\n    if (router.url.includes('rent_preview')) {\n      setTypeState('rent_preview')\n    } else if (router.url.includes('rent')) {\n      setTypeState('rent')\n    } else if (router.url.includes('pending')) {\n      setTypeState('pending')\n    } else if (router.url.includes('live_room')) {\n      setTypeState('live_room')\n    }\n  }, [])\n\n  const [payFlag, setPayFlag] = useState(isPay)\n  const handleAccept = (id: any) => {\n    axios\n      .put(`owner/rooms/${params?.room_id}/rent`)\n      .then((res) => {\n        setPayFlag(true)\n        toast({\n          title: 'Thành công',\n          description: 'Bạn đã cho thuê thành công',\n          status: 'success',\n          duration: 3000,\n          isClosable: true,\n          position: 'top',\n        })\n      })\n      .catch((err) => {\n        console.log(err)\n        toast({\n          title: 'Có sự cố xảy ra',\n          description: 'Bạn không đủ quyền để truy cập trang này',\n          status: 'error',\n          duration: 3000,\n          isClosable: true,\n          position: 'top',\n        })\n      })\n  }\n\n  const removeRent = (id: any) => {\n    axios\n      .delete(`owner/rooms/${params?.room_id}/rent`)\n      .then((res) => {\n        setPayFlag(true)\n        toast({\n          title: 'Thành công',\n          description: 'Bạn đã cho thuê thành công',\n          status: 'success',\n          duration: 3000,\n          isClosable: true,\n          position: 'top',\n        })\n      })\n      .catch((err) => {\n        console.log(err)\n        toast({\n          title: 'Có sự cố xảy ra',\n          description: 'Bạn không đủ quyền để truy cập trang này',\n          status: 'error',\n          duration: 3000,\n          isClosable: true,\n          position: 'top',\n        })\n      })\n  }\n\n  return (\n    <Box padding='1.5rem 0'>\n      <Flex flexDirection='row' justifyContent='flex-end'>\n        {status !== 'REJECTED' &&\n          typePage !== 'pedding' &&\n          typePage !== 'live_room' &&\n          !payFlag && (\n            <>\n              <Button\n                outline='0'\n                onClick={handleAccept}\n                fontSize='1.25rem'\n                colorScheme='green'\n                mr='10px'\n                fontWeight='500'>\n                Cho Thuê\n              </Button>\n              <Button\n                outline='0'\n                onClick={removeRent}\n                fontSize='1.25rem'\n                colorScheme='red'\n                mr='10px'\n                fontWeight='500'>\n                Từ chối\n              </Button>\n            </>\n          )}\n\n        {(status === 'REJECTED' || typePage === 'live_room') && (\n          <Button\n            outline='0'\n            onClick={removeRent}\n            fontSize='1.25rem'\n            colorScheme='red'\n            mr='10px'\n            fontWeight='500'>\n            Xóa phòng\n          </Button>\n        )}\n      </Flex>\n    </Box>\n  )\n}\n\nexport default Actions\n"]},"metadata":{},"sourceType":"module"}