{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/home/hoangdk/Documents/LinhNgu/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/hoangdk/Documents/LinhNgu/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/hoangdk/Documents/LinhNgu/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/hoangdk/Documents/LinhNgu/easy-accomod-webapp/src/components/layout/Notifi.tsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable prettier/prettier */\nimport React, { useEffect, useState } from 'react';\nimport { List, Avatar } from 'antd';\nimport axios from 'utils/axios';\n\nfunction Notifi(_ref) {\n  _s();\n\n  var _this = this;\n\n  var role = _ref.role;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var initData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              axios.get('/profile').then( /*#__PURE__*/function () {\n                var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(res) {\n                  var dataTemp;\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          dataTemp = res.data.data;\n                          console.log(dataTemp); // await firestore().collection('notifications').where('receiver', '==', dataTemp?._id).onSnapshot(async (documentSnapshot) => {\n                          //   let notifications = [] as Array<Notification>\n                          //   await documentSnapshot.forEach(async (doc) => {\n                          //     const room = await axios.get(`/rooms/${doc.data().roomId}`)\n                          //     notifications.push({\n                          //       roomName: room.data.data.room?.name,\n                          //       roomId: doc.data().roomId,\n                          //       type: doc.data().type\n                          //     })\n                          //     // await setData([...data, {\n                          //     //   roomName: room.data.data.room?.name,\n                          //     //   roomId: doc.data().roomId,\n                          //     //   type: doc.data().type\n                          //     // }])\n                          //     console.log(data)\n                          //     debugger\n                          //     // await setData([...data, {\n                          //     //   roomName: room.data.data.room?.name,\n                          //     //   roomId: doc.data().roomId,\n                          //     //   type: doc.data().type\n                          //     // }])\n                          //   })\n                          //   setData(notifications)\n                          //   debugger\n                          // })\n\n                        case 2:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x) {\n                  return _ref3.apply(this, arguments);\n                };\n              }());\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function initData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    initData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(List, {\n    itemLayout: \"horizontal\",\n    dataSource: data,\n    renderItem: function renderItem(item) {\n      return /*#__PURE__*/_jsxDEV(List.Item, {\n        children: /*#__PURE__*/_jsxDEV(List.Item.Meta, {\n          avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n            src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, _this),\n          title: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"https://ant.design\",\n            children: item === null || item === void 0 ? void 0 : item.roomName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 18\n          }, _this),\n          description: \"Ant Design, a design language for background applications, is refined by Ant UED Team\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }, _this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 11\n  }, this);\n}\n\n_s(Notifi, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n\n_c = Notifi;\nexport default Notifi;\n\nvar _c;\n\n$RefreshReg$(_c, \"Notifi\");","map":{"version":3,"sources":["/home/hoangdk/Documents/LinhNgu/easy-accomod-webapp/src/components/layout/Notifi.tsx"],"names":["React","useEffect","useState","List","Avatar","axios","Notifi","role","data","setData","initData","get","then","res","dataTemp","console","log","item","roomName"],"mappings":";;;;;;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,MAA7B;AAEA,OAAOC,KAAP,MAAkB,aAAlB;;AAOA,SAASC,MAAT,OAAiD;AAAA;;AAAA;;AAAA,MAA/BC,IAA+B,QAA/BA,IAA+B;;AAAA,kBACvBL,QAAQ,CAAsB,EAAtB,CADe;AAAA;AAAA,MACxCM,IADwC;AAAA,MAClCC,OADkC;;AAE/C,MAAMC,QAAQ;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AACfL,cAAAA,KAAK,CAACM,GAAN,CAAU,UAAV,EAAsBC,IAAtB;AAAA,qFAA2B,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBC,0BAAAA,QADmB,GACRD,GAAG,CAACL,IAAJ,CAASA,IADD;AAEzBO,0BAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAFyB,CAGzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA3ByB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAA3B;;AAAA;AAAA;AAAA;AAAA;;AADe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARJ,QAAQ;AAAA;AAAA;AAAA,KAAd;;AA+BAT,EAAAA,SAAS,CAAC,YAAM;AACdS,IAAAA,QAAQ;AACT,GAFQ,EAEN,EAFM,CAAT;AAGA,sBAAQ,QAAC,IAAD;AACN,IAAA,UAAU,EAAC,YADL;AAEN,IAAA,UAAU,EAAEF,IAFN;AAGN,IAAA,UAAU,EAAE,oBAACS,IAAD;AAAA,0BACV,QAAC,IAAD,CAAM,IAAN;AAAA,+BACE,QAAC,IAAD,CAAM,IAAN,CAAW,IAAX;AACE,UAAA,MAAM,eACJ,QAAC,MAAD;AAAQ,YAAA,GAAG,EAAC;AAAZ;AAAA;AAAA;AAAA;AAAA,mBAFJ;AAIE,UAAA,KAAK,eAAE;AAAG,YAAA,IAAI,EAAC,oBAAR;AAAA,sBAA8BA,IAA9B,aAA8BA,IAA9B,uBAA8BA,IAAI,CAAEC;AAApC;AAAA;AAAA;AAAA;AAAA,mBAJT;AAKE,UAAA,WAAW,EAAC;AALd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,eADU;AAAA;AAHN;AAAA;AAAA;AAAA;AAAA,UAAR;AAeD;;GAnDQZ,M;;KAAAA,M;AAqDT,eAAeA,MAAf","sourcesContent":["/* eslint-disable prettier/prettier */\nimport React, { useEffect, useState } from 'react'\nimport { List, Avatar } from 'antd'\nimport { firestore } from 'firebase-config'\nimport axios from 'utils/axios'\n\ntype Notification = {\n  roomName: string,\n  roomId: string,\n  type: string\n}\nfunction Notifi({ role }: { role: string }): any {\n  const [data, setData] = useState<Array<Notification>>([])\n  const initData = async () => {\n    axios.get('/profile').then(async (res) => {\n      const dataTemp = res.data.data as any\n      console.log(dataTemp)\n      // await firestore().collection('notifications').where('receiver', '==', dataTemp?._id).onSnapshot(async (documentSnapshot) => {\n      //   let notifications = [] as Array<Notification>\n      //   await documentSnapshot.forEach(async (doc) => {\n      //     const room = await axios.get(`/rooms/${doc.data().roomId}`)\n      //     notifications.push({\n      //       roomName: room.data.data.room?.name,\n      //       roomId: doc.data().roomId,\n      //       type: doc.data().type\n      //     })\n      //     // await setData([...data, {\n      //     //   roomName: room.data.data.room?.name,\n      //     //   roomId: doc.data().roomId,\n      //     //   type: doc.data().type\n      //     // }])\n      //     console.log(data)\n      //     debugger\n      //     // await setData([...data, {\n      //     //   roomName: room.data.data.room?.name,\n      //     //   roomId: doc.data().roomId,\n      //     //   type: doc.data().type\n      //     // }])\n      //   })\n      //   setData(notifications)\n      //   debugger\n      // })\n    })\n  }\n  useEffect(() => {\n    initData()\n  }, [])\n  return (<List\n    itemLayout='horizontal'\n    dataSource={data}\n    renderItem={(item) => (\n      <List.Item>\n        <List.Item.Meta\n          avatar={\n            <Avatar src='https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png' />\n          }\n          title={<a href='https://ant.design'>{item?.roomName}</a>}\n          description='Ant Design, a design language for background applications, is refined by Ant UED Team'\n        />\n      </List.Item>\n    )}\n  />)\n}\n\nexport default Notifi\n"]},"metadata":{},"sourceType":"module"}