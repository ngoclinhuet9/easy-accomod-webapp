{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/tran.duc.minh/Desktop/personal/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/tran.duc.minh/Desktop/personal/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/tran.duc.minh/Desktop/personal/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/tran.duc.minh/Desktop/personal/easy-accomod-webapp/src/components/layout/OwnerHeader.tsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/aria-role */\n\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\n/* eslint-disable prettier/prettier */\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Box, Flex, Spacer, Button, useDisclosure, Drawer, DrawerBody, DrawerHeader, DrawerOverlay, DrawerContent, DrawerCloseButton, Image, Menu, MenuButton, MenuList, MenuItem, useToast } from '@chakra-ui/react';\nimport axios from 'utils/axios';\nimport { auth } from 'firebase-config';\nimport useRedux from 'hooks/useRedux';\nimport actions from 'store/actions';\nimport { HamburgerIcon, ChevronDownIcon, EmailIcon } from '@chakra-ui/icons';\nimport Logo from 'assets/logo2.png';\nimport Notifi from './Notifi';\nexport default function Header() {\n  _s();\n\n  var toast = useToast();\n  var history = useHistory();\n\n  var _useRedux = useRedux(),\n      dispatch = _useRedux.dispatch;\n\n  var _useDisclosure = useDisclosure(),\n      isOpen = _useDisclosure.isOpen,\n      onClose = _useDisclosure.onClose,\n      onOpen = _useDisclosure.onOpen;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  useEffect(function () {\n    // auth.onAuthStateChanged(async (user) => {\n    //   if (user) {\n    try {\n      axios.get('/profile').then(function (result) {\n        var data = result.data.data;\n        setName(data.name);\n        debugger;\n\n        if (data.status !== 'APPROVED') {\n          signOut();\n          toast({\n            title: 'Có sự cố xảy ra',\n            description: 'Tài khoản đang chờ phê duyệt',\n            status: 'error',\n            duration: 3000,\n            isClosable: true,\n            position: 'top'\n          });\n        }\n\n        debugger;\n      });\n    } catch (error) {\n      var _error$response;\n\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 403) {\n        signOut();\n        toast({\n          title: 'Có sự cố xảy ra',\n          description: 'Bạn không đủ quyền để truy cập trang này',\n          status: 'error',\n          duration: 3000,\n          isClosable: true,\n          position: 'top'\n        });\n      }\n    } // }\n    // else {\n    //   history.push('/login')\n    //   toast({\n    //     title: 'Có sự cố xảy ra',\n    //     description: 'Bạn cần đăng nhập tài khoản admin để tiếp tục',\n    //     status: 'error',\n    //     duration: 3000,\n    //     isClosable: true,\n    //     position: 'top',\n    //   })\n    // }\n    // })\n\n  }, []);\n\n  var signOut = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return auth.signOut();\n\n            case 2:\n              setName('');\n              dispatch(actions.signOut());\n              localStorage.clear();\n              history.push('/login');\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function signOut() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: {\n        md: 'block',\n        lg: 'none',\n        xl: 'none'\n      },\n      mt: 2,\n      pb: 2,\n      borderBottom: \"1px solid #E2E8F0\",\n      alignItems: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Flex, {\n        d: \"flex\",\n        paddingRight: \"2.5rem\",\n        paddingLeft: \"2.5rem\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Spacer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: onOpen,\n          children: /*#__PURE__*/_jsxDEV(HamburgerIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n      isOpen: isOpen,\n      placement: \"right\",\n      onClose: onClose,\n      children: /*#__PURE__*/_jsxDEV(DrawerOverlay, {\n        children: /*#__PURE__*/_jsxDEV(DrawerContent, {\n          children: [/*#__PURE__*/_jsxDEV(DrawerCloseButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DrawerHeader, {\n            children: \"Create your account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DrawerBody, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"ghost\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/login\",\n                children: \"\\u0110\\u0103ng nh\\u1EADp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"ghost\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/signup\",\n                children: \"\\u0110\\u0103ng k\\xFD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      height: \"85px\",\n      w: \"100%\",\n      mb: 5,\n      pb: 3,\n      display: {\n        sm: 'none',\n        md: 'none',\n        lg: 'block'\n      },\n      borderBottom: \"1px solid rgb(226 232 240)\",\n      children: /*#__PURE__*/_jsxDEV(Flex, {\n        d: \"flex\",\n        w: \"75%\",\n        height: \"100%\",\n        m: \"0 auto\",\n        backgroundColor: \"blue\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: Logo,\n            width: \"60px\",\n            height: \"60px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Spacer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), name !== '' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/create-room\",\n              children: \"Create new room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Menu, {\n            children: [/*#__PURE__*/_jsxDEV(MenuButton, {\n              px: 8,\n              py: 2,\n              transition: \"all 0.2s\",\n              borderRadius: \"md\",\n              children: /*#__PURE__*/_jsxDEV(EmailIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MenuList, {\n              w: \"350px\",\n              children: /*#__PURE__*/_jsxDEV(Notifi, {\n                role: \"owner\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Menu, {\n            children: [/*#__PURE__*/_jsxDEV(MenuButton, {\n              as: Button,\n              rightIcon: /*#__PURE__*/_jsxDEV(ChevronDownIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 52\n              }, this),\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MenuList, {\n              children: /*#__PURE__*/_jsxDEV(MenuItem, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: signOut,\n                  variant: \"link\",\n                  children: \"\\u0110\\u0103ng xu\\u1EA5t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(Flex, {\n          d: \"flex\",\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              children: \"\\u0110\\u0103ng nh\\u1EADp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/signup\",\n              children: \"\\u0110\\u0103ng k\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Header, \"ihq0U7CsYvYRwY/EzdulqBNH0RI=\", false, function () {\n  return [useToast, useHistory, useRedux, useDisclosure];\n});\n\n_c = Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/Users/tran.duc.minh/Desktop/personal/easy-accomod-webapp/src/components/layout/OwnerHeader.tsx"],"names":["React","useEffect","useState","Link","useHistory","Box","Flex","Spacer","Button","useDisclosure","Drawer","DrawerBody","DrawerHeader","DrawerOverlay","DrawerContent","DrawerCloseButton","Image","Menu","MenuButton","MenuList","MenuItem","useToast","axios","auth","useRedux","actions","HamburgerIcon","ChevronDownIcon","EmailIcon","Logo","Notifi","Header","toast","history","dispatch","isOpen","onClose","onOpen","name","setName","get","then","result","data","status","signOut","title","description","duration","isClosable","position","error","response","localStorage","clear","push","md","lg","xl","sm"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/aria-role */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable prettier/prettier */\nimport React, { useEffect, useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport {\n  Box,\n  Flex,\n  Spacer,\n  Button,\n  useDisclosure,\n  Drawer,\n  DrawerBody,\n  DrawerHeader,\n  DrawerOverlay,\n  DrawerContent,\n  DrawerCloseButton,\n  Image,\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n  useToast\n} from '@chakra-ui/react'\nimport axios from 'utils/axios'\nimport { auth } from 'firebase-config'\nimport useRedux from 'hooks/useRedux'\nimport actions from 'store/actions'\n\nimport { HamburgerIcon, ChevronDownIcon, EmailIcon } from '@chakra-ui/icons'\nimport Logo from 'assets/logo2.png'\nimport Search from 'components/filter/Search'\nimport Notifi from './Notifi'\n\nexport default function Header() {\n  const toast = useToast()\n  const history = useHistory()\n  const { dispatch } = useRedux()\n  const { isOpen, onClose, onOpen } = useDisclosure()\n  const [name, setName] = useState('')\n\n  useEffect(() => {\n    // auth.onAuthStateChanged(async (user) => {\n    //   if (user) {\n    try {\n      axios.get('/profile').then((result) => {\n        const { data } = result.data\n        setName(data.name)\n        debugger\n        if (data.status !== 'APPROVED') {\n          signOut()\n          toast({\n            title: 'Có sự cố xảy ra',\n            description: 'Tài khoản đang chờ phê duyệt',\n            status: 'error',\n            duration: 3000,\n            isClosable: true,\n            position: 'top',\n          })\n        }\n        debugger\n      })\n    } catch (error) {\n      if (error.response?.status === 403) {\n        signOut()\n        toast({\n          title: 'Có sự cố xảy ra',\n          description: 'Bạn không đủ quyền để truy cập trang này',\n          status: 'error',\n          duration: 3000,\n          isClosable: true,\n          position: 'top',\n        })\n      }\n    }\n    // }\n    // else {\n    //   history.push('/login')\n    //   toast({\n    //     title: 'Có sự cố xảy ra',\n    //     description: 'Bạn cần đăng nhập tài khoản admin để tiếp tục',\n    //     status: 'error',\n    //     duration: 3000,\n    //     isClosable: true,\n    //     position: 'top',\n    //   })\n    // }\n    // })\n  }, [])\n\n  const signOut = async () => {\n    await auth.signOut()\n    setName('')\n    dispatch(\n      actions.signOut()\n    )\n    localStorage.clear()\n    history.push('/login')\n  }\n\n  return (\n    <div>\n      <Box\n        display={{\n          md: 'block',\n          lg: 'none',\n          xl: 'none',\n        }}\n        mt={2}\n        pb={2}\n        borderBottom='1px solid #E2E8F0'\n        alignItems='center'>\n        <Flex\n          d='flex'\n          paddingRight='2.5rem'\n          paddingLeft='2.5rem'\n          alignItems='center'>\n          <Box />\n          <Spacer />\n          <Button onClick={onOpen}>\n            <HamburgerIcon />\n          </Button>\n        </Flex>\n      </Box>\n      <Drawer isOpen={isOpen} placement='right' onClose={onClose}>\n        <DrawerOverlay>\n          <DrawerContent>\n            <DrawerCloseButton />\n            <DrawerHeader>Create your account</DrawerHeader>\n            <DrawerBody>\n              <Button variant='ghost'>\n                <Link to='/login'>Đăng nhập</Link>\n              </Button>\n              <Button variant='ghost'>\n                <Link to='/signup'>Đăng ký</Link>\n              </Button>\n\n            </DrawerBody>\n          </DrawerContent>\n        </DrawerOverlay>\n      </Drawer>\n      <Box\n        height='85px'\n        w='100%'\n        mb={5}\n        pb={3}\n        display={{ sm: 'none', md: 'none', lg: 'block' }}\n        borderBottom='1px solid rgb(226 232 240)'>\n        <Flex\n          d='flex'\n          w='75%'\n          height='100%'\n          m='0 auto'\n          backgroundColor='blue'\n          alignItems='center'>\n          <Link to='/'>\n            <Image src={Logo} width='60px' height='60px' />\n          </Link>\n          <Spacer />\n          {name !== '' ? (\n            <>\n              <Button variant='ghost'>\n                <Link to='/create-room'>Create new room</Link>\n              </Button>\n              <Menu>\n                <MenuButton\n                  px={8}\n                  py={2}\n                  transition=\"all 0.2s\"\n                  borderRadius=\"md\">\n                  <EmailIcon />\n                </MenuButton>\n                <MenuList w='350px'>\n                  <Notifi role='owner' />\n                </MenuList>\n              </Menu>\n              <Menu>\n                <MenuButton as={Button} rightIcon={<ChevronDownIcon />}>\n                  {name}\n                </MenuButton>\n                <MenuList>\n                  <MenuItem>\n                    <Button onClick={signOut} variant='link'>\n                      Đăng xuất\n                    </Button>\n                  </MenuItem>\n                </MenuList>\n              </Menu>\n\n            </>\n          ) : (\n              <Flex d='flex' alignItems='center'>\n                <Button variant='ghost'>\n                  <Link to='/login'>Đăng nhập</Link>\n                </Button>\n                <Button variant='ghost'>\n                  <Link to='/signup'>Đăng ký</Link>\n                </Button>\n              </Flex>\n            )}\n        </Flex>\n      </Box>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}