{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/src/components/place/place-details/Reviews.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\n/* eslint-disable prettier/prettier */\n\n/* eslint-disable operator-linebreak */\n\n/* eslint-disable no-shadow */\n\n/* eslint-disable @typescript-eslint/no-shadow */\n\n/* eslint-disable @typescript-eslint/no-unsafe-return */\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\n\n/* eslint-disable camelcase */\n\n/* eslint-disable @typescript-eslint/no-unsafe-call */\nimport { Avatar, Box, chakra, Divider, Heading, Skeleton, Text } from '@chakra-ui/react';\nimport { useEffect, useState } from 'react';\nimport axios from 'utils/axios';\nimport { AiFillStar } from 'react-icons/ai';\nimport { Element } from 'react-scroll';\nimport ReviewForm from './ReviewForm';\n\nvar Reviews = function Reviews(_ref) {\n  _s();\n\n  var roomId = _ref.roomId,\n      reviews = _ref.reviews;\n  var NavLabel = chakra(Element);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _ref2 = useState([]),\n      _ref3 = _slicedToArray(_ref2, 2),\n      data = _ref3[0],\n      setData = _ref3[1];\n\n  var addReview = function addReview(_ref4) {\n    var comment = _ref4.comment,\n        score = _ref4.score;\n    setData([].concat(_toConsumableArray(data), [{\n      content: comment,\n      rating: score\n    }]));\n    axios.post('/reviews/create', {\n      content: comment,\n      rating: score,\n      roomId: roomId\n    }).then(function (res) {\n      console.log(res);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  useEffect(function () {\n    setData(reviews);\n  }, [reviews]);\n  return /*#__PURE__*/_jsxDEV(NavLabel, {\n    className: \"place-details-reviews\",\n    name: \"reviews\",\n    mt: 20,\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      className: \"reviews-title\",\n      children: /*#__PURE__*/_jsxDEV(Heading, {\n        as: \"h3\",\n        fontSize: \"3xl\",\n        fontWeight: \"bolder\",\n        lineHeight: \"shorter\",\n        children: \"\\u0110\\xE1nh gi\\xE1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, _this), (data === null || data === void 0 ? void 0 : data.length) && (data === null || data === void 0 ? void 0 : data.map(function (r) {\n      var _r$renter, _r$renter2;\n\n      return /*#__PURE__*/_jsxDEV(Box, {\n        className: \"single-review\",\n        my: 8,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          flexDirection: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            name: ((_r$renter = r.renter) === null || _r$renter === void 0 ? void 0 : _r$renter.name) || 'Me'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(Box, {\n            ml: 2,\n            display: \"flex\",\n            pt: 1,\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              children: /*#__PURE__*/_jsxDEV(Heading, {\n                as: \"h5\",\n                fontWeight: \"bolder\",\n                lineHeight: \"shorter\",\n                fontSize: \"md\",\n                children: !isLoading ? ((_r$renter2 = r.renter) === null || _r$renter2 === void 0 ? void 0 : _r$renter2.name) || 'Me' : /*#__PURE__*/_jsxDEV(Skeleton, {\n                  mt: 1,\n                  height: \"12px\",\n                  width: \"120px\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 25\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              marginLeft: 3,\n              color: \"#FFB500\",\n              pt: 0.25,\n              children: _toConsumableArray(Array(r.rating)).map(function (_, idx) {\n                return /*#__PURE__*/_jsxDEV(AiFillStar, {\n                  fontSize: 24\n                }, idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 21\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(Box, {\n          className: \"reviews-content\",\n          mt: 5,\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            color: \"#555\",\n            children: !isLoading ? r.content : /*#__PURE__*/_jsxDEV(Skeleton, {\n              mt: 1,\n              height: \"12px\",\n              width: \"240px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 21\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, _this);\n    })), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, _this), localStorage.getItem('token') ? /*#__PURE__*/_jsxDEV(ReviewForm, {\n      addReview: addReview\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 40\n    }, _this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Reviews, \"fFTrtBUtXpw4CR+cDEoLuwLxHyY=\");\n\n_c = Reviews;\nexport default Reviews;\n\nvar _c;\n\n$RefreshReg$(_c, \"Reviews\");","map":{"version":3,"sources":["/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/src/components/place/place-details/Reviews.tsx"],"names":["Avatar","Box","chakra","Divider","Heading","Skeleton","Text","useEffect","useState","axios","AiFillStar","Element","ReviewForm","Reviews","roomId","reviews","NavLabel","isLoading","setLoading","data","setData","addReview","comment","score","content","rating","post","then","res","console","log","catch","err","length","map","r","renter","name","Array","_","idx","localStorage","getItem"],"mappings":"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","sourcesContent":["/* eslint-disable prettier/prettier */\n/* eslint-disable operator-linebreak */\n/* eslint-disable no-shadow */\n/* eslint-disable @typescript-eslint/no-shadow */\n/* eslint-disable @typescript-eslint/no-unsafe-return */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable camelcase */\n/* eslint-disable @typescript-eslint/no-unsafe-call */\nimport {\n  Avatar,\n  Box,\n  chakra,\n  Divider,\n  Heading,\n  Skeleton,\n  Text,\n} from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\nimport axios from 'utils/axios'\nimport { AiFillStar } from 'react-icons/ai'\nimport { Element } from 'react-scroll'\nimport ReviewForm from './ReviewForm'\n\ntype RatingType = {\n  score: number\n  comment: string\n  user_name: string\n  user_avatar: string\n}[]\n\nconst Reviews = ({ roomId, reviews }: { roomId: string | undefined, reviews: any }) => {\n  const NavLabel = chakra(Element)\n  const [isLoading, setLoading] = useState(false)\n  const [data, setData] = useState([]) as any\n  const addReview = ({\n    comment,\n    score,\n  }: {\n    comment: string\n    score: number\n  }) => {\n    setData([...data, { content: comment, rating: score }])\n    axios.post('/reviews/create', { content: comment, rating: score, roomId })\n      .then((res) => { console.log(res) })\n      .catch((err) => { console.log(err) })\n  }\n\n  useEffect(() => {\n    setData(reviews)\n  }, [reviews])\n\n  return (\n    <NavLabel className='place-details-reviews' name='reviews' mt={20}>\n      <Box className='reviews-title'>\n        <Heading\n          as='h3'\n          fontSize='3xl'\n          fontWeight='bolder'\n          lineHeight='shorter'>\n          Đánh giá\n        </Heading>\n      </Box>\n      {data?.length &&\n        data?.map((r: any) => (\n          <Box className='single-review' my={8}>\n            <Box display='flex' flexDirection='row'>\n              <Avatar name={r.renter?.name || 'Me'} />\n              <Box ml={2} display='flex' pt={1}>\n                <Box>\n                  <Heading\n                    as='h5'\n                    fontWeight='bolder'\n                    lineHeight='shorter'\n                    fontSize='md'>\n                    {!isLoading ? (\n                      r.renter?.name || 'Me'\n                    ) : (\n                        <Skeleton mt={1} height='12px' width='120px' />\n                      )}\n                  </Heading>\n                </Box>\n                <Box display='flex' marginLeft={3} color='#FFB500' pt={0.25}>\n                  {[...Array(r.rating)].map((_, idx) => (\n                    <AiFillStar fontSize={24} key={idx} />\n                  ))}\n                </Box>\n              </Box>\n            </Box>\n            <Box className='reviews-content' mt={5}>\n              <Text color='#555'>\n                {!isLoading ? (\n                  r.content\n                ) : (\n                    <Skeleton mt={1} height='12px' width='240px' />\n                  )}\n              </Text>\n            </Box>\n          </Box>\n        ))}\n      <Divider />\n      {localStorage.getItem('token') ? <ReviewForm addReview={addReview} /> : null}\n    </NavLabel>\n  )\n}\n\nexport default Reviews\n"]},"metadata":{},"sourceType":"module"}