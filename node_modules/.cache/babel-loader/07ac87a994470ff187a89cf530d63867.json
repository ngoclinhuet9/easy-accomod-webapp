{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/src/components/layout/Header.tsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\n/* eslint-disable prettier/prettier */\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Box, Flex, Spacer, Button, useDisclosure, Drawer, DrawerBody, DrawerHeader, DrawerOverlay, DrawerContent, DrawerCloseButton, Image, Menu, MenuButton, MenuList, MenuItem, useToast } from '@chakra-ui/react';\nimport axios from 'utils/axios';\nimport { auth } from 'firebase-config';\nimport useRedux from 'hooks/useRedux';\nimport actions from 'store/actions';\nimport { HamburgerIcon, ChevronDownIcon } from '@chakra-ui/icons';\nimport Logo from 'assets/logo2.png';\nimport Search from 'components/filter/';\nimport Price from 'components/filter/Price';\nimport TypeRoom from 'components/filter/TypeRoom';\nexport default function Header() {\n  _s();\n\n  var toast = useToast();\n  var history = useHistory();\n\n  var _useRedux = useRedux(),\n      dispatch = _useRedux.dispatch;\n\n  var _useDisclosure = useDisclosure(),\n      isOpen = _useDisclosure.isOpen,\n      onClose = _useDisclosure.onClose,\n      onOpen = _useDisclosure.onOpen;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  useEffect(function () {\n    // auth.onAuthStateChanged(async () => {\n    try {\n      axios.get('/profile').then(function (result) {\n        var data = result.data.data;\n        setName(data.name);\n        debugger;\n      });\n    } catch (error) {\n      if (error.response.status === 403) {\n        signOut();\n        toast({\n          title: 'Có sự cố xảy ra',\n          description: 'Bạn không đủ quyền để truy cập trang này',\n          status: 'error',\n          duration: 3000,\n          isClosable: true,\n          position: 'top'\n        });\n        debugger;\n      }\n    } // })\n\n  }, []);\n\n  var signOut = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return auth.signOut();\n\n            case 2:\n              setName('');\n              dispatch(actions.signOut());\n              localStorage.clear();\n              history.push('/');\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function signOut() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var redirectToOwner = function redirectToOwner() {\n    window.location.hostname = 'owner.localhost';\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: {\n        md: 'block',\n        lg: 'none',\n        xl: 'none'\n      },\n      mt: 2,\n      pb: 2,\n      borderBottom: \"1px solid #E2E8F0\",\n      alignItems: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Flex, {\n        d: \"flex\",\n        paddingRight: \"2.5rem\",\n        paddingLeft: \"2.5rem\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Spacer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: onOpen,\n          children: /*#__PURE__*/_jsxDEV(HamburgerIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n      isOpen: isOpen,\n      placement: \"right\",\n      onClose: onClose,\n      children: /*#__PURE__*/_jsxDEV(DrawerOverlay, {\n        children: /*#__PURE__*/_jsxDEV(DrawerContent, {\n          children: [/*#__PURE__*/_jsxDEV(DrawerCloseButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DrawerHeader, {\n            children: \"Create your account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DrawerBody, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"ghost\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/login\",\n                children: \"\\u0110\\u0103ng nh\\u1EADp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"ghost\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/signup\",\n                children: \"\\u0110\\u0103ng k\\xFD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      height: \"85px\",\n      w: \"100%\",\n      mb: 5,\n      pb: 3,\n      display: {\n        sm: 'none',\n        md: 'none',\n        lg: 'block'\n      },\n      borderBottom: \"1px solid rgb(226 232 240)\",\n      children: /*#__PURE__*/_jsxDEV(Flex, {\n        d: \"flex\",\n        w: \"75%\",\n        height: \"100%\",\n        m: \"0 auto\",\n        backgroundColor: \"blue\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: Logo,\n            width: \"60px\",\n            height: \"60px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Price, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TypeRoom, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Spacer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), name !== '' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            onClick: redirectToOwner,\n            children: \"Host\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Menu, {\n            children: [/*#__PURE__*/_jsxDEV(MenuButton, {\n              as: Button,\n              rightIcon: /*#__PURE__*/_jsxDEV(ChevronDownIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 52\n              }, this),\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MenuList, {\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/account\",\n                  children: \"C\\xE0i \\u0111\\u1EB7t t\\xE0i kho\\u1EA3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/bookmarks\",\n                  children: \"Y\\xEAu th\\xEDch\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: signOut,\n                  variant: \"link\",\n                  children: \"\\u0110\\u0103ng xu\\u1EA5t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(Flex, {\n          d: \"flex\",\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            onClick: redirectToOwner,\n            children: \"Host\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              children: \"\\u0110\\u0103ng nh\\u1EADp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/signup\",\n              children: \"\\u0110\\u0103ng k\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Header, \"ihq0U7CsYvYRwY/EzdulqBNH0RI=\", false, function () {\n  return [useToast, useHistory, useRedux, useDisclosure];\n});\n\n_c = Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/Users/linhvtn/Desktop/workspace/easy-accomod-webapp/src/components/layout/Header.tsx"],"names":["React","useEffect","useState","Link","useHistory","Box","Flex","Spacer","Button","useDisclosure","Drawer","DrawerBody","DrawerHeader","DrawerOverlay","DrawerContent","DrawerCloseButton","Image","Menu","MenuButton","MenuList","MenuItem","useToast","axios","auth","useRedux","actions","HamburgerIcon","ChevronDownIcon","Logo","Search","Price","TypeRoom","Header","toast","history","dispatch","isOpen","onClose","onOpen","name","setName","get","then","result","data","error","response","status","signOut","title","description","duration","isClosable","position","localStorage","clear","push","redirectToOwner","window","location","hostname","md","lg","xl","sm"],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable prettier/prettier */\nimport React, { useEffect, useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport {\n  Box,\n  Flex,\n  Spacer,\n  Button,\n  useDisclosure,\n  Drawer,\n  DrawerBody,\n  DrawerHeader,\n  DrawerOverlay,\n  DrawerContent,\n  DrawerCloseButton,\n  Image,\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n  useToast\n} from '@chakra-ui/react'\nimport axios from 'utils/axios'\nimport { auth } from 'firebase-config'\nimport useRedux from 'hooks/useRedux'\nimport actions from 'store/actions'\n\nimport { HamburgerIcon, ChevronDownIcon } from '@chakra-ui/icons'\nimport Logo from 'assets/logo2.png'\nimport Search from 'components/filter/'\nimport Price from 'components/filter/Price'\nimport TypeRoom from 'components/filter/TypeRoom'\n\nexport default function Header() {\n  const toast = useToast()\n  const history = useHistory()\n  const { dispatch } = useRedux()\n  const { isOpen, onClose, onOpen } = useDisclosure()\n  const [name, setName] = useState('')\n\n  useEffect(() => {\n    // auth.onAuthStateChanged(async () => {\n    try {\n      axios.get('/profile').then((result) => {\n        const { data } = result.data\n        setName(data.name)\n        debugger\n      })\n    } catch (error) {\n      if (error.response.status === 403) {\n        signOut()\n        toast({\n          title: 'Có sự cố xảy ra',\n          description: 'Bạn không đủ quyền để truy cập trang này',\n          status: 'error',\n          duration: 3000,\n          isClosable: true,\n          position: 'top',\n        })\n        debugger\n      }\n    }\n    // })\n  }, [])\n\n  const signOut = async () => {\n    await auth.signOut()\n    setName('')\n    dispatch(\n      actions.signOut()\n    )\n    localStorage.clear()\n    history.push('/')\n  }\n\n  const redirectToOwner = () => {\n    window.location.hostname = 'owner.localhost'\n  }\n\n  return (\n    <div>\n      <Box\n        display={{\n          md: 'block',\n          lg: 'none',\n          xl: 'none',\n        }}\n        mt={2}\n        pb={2}\n        borderBottom='1px solid #E2E8F0'\n        alignItems='center'>\n        <Flex\n          d='flex'\n          paddingRight='2.5rem'\n          paddingLeft='2.5rem'\n          alignItems='center'>\n          <Box />\n          <Spacer />\n          <Button onClick={onOpen}>\n            <HamburgerIcon />\n          </Button>\n        </Flex>\n      </Box>\n      <Drawer isOpen={isOpen} placement='right' onClose={onClose}>\n        <DrawerOverlay>\n          <DrawerContent>\n            <DrawerCloseButton />\n            <DrawerHeader>Create your account</DrawerHeader>\n            <DrawerBody>\n              <Button variant='ghost'>\n                <Link to='/login'>Đăng nhập</Link>\n              </Button>\n              <Button variant='ghost'>\n                <Link to='/signup'>Đăng ký</Link>\n              </Button>\n\n            </DrawerBody>\n          </DrawerContent>\n        </DrawerOverlay>\n      </Drawer>\n      <Box\n        height='85px'\n        w='100%'\n        mb={5}\n        pb={3}\n        display={{ sm: 'none', md: 'none', lg: 'block' }}\n        borderBottom='1px solid rgb(226 232 240)'>\n        <Flex\n          d='flex'\n          w='75%'\n          height='100%'\n          m='0 auto'\n          backgroundColor='blue'\n          alignItems='center'>\n          <Link to='/'>\n            <Image src={Logo} width='60px' height='60px' />\n          </Link>\n          <Search />\n          <Price />\n          <TypeRoom />\n          <Spacer />\n          {name !== '' ? (\n            <>\n              <Button variant='ghost' onClick={redirectToOwner}>\n                Host\n              </Button>\n              <Menu>\n                <MenuButton as={Button} rightIcon={<ChevronDownIcon />}>\n                  {name}\n                </MenuButton>\n                <MenuList>\n                  <MenuItem>\n                    <Link to='/account'>Cài đặt tài khoản</Link>\n                  </MenuItem>\n                  <MenuItem>\n                    <Link to='/bookmarks'>Yêu thích</Link>\n                  </MenuItem>\n                  <MenuItem>\n                    <Button onClick={signOut} variant='link'>\n                      Đăng xuất\n                  </Button>\n                  </MenuItem>\n                </MenuList>\n              </Menu>\n            </>\n          ) : (\n              <Flex d='flex' alignItems='center'>\n                <Button variant='ghost' onClick={redirectToOwner}>\n                  Host\n                </Button>\n                <Button variant='ghost'>\n                  <Link to='/login'>Đăng nhập</Link>\n                </Button>\n                <Button variant='ghost'>\n                  <Link to='/signup'>Đăng ký</Link>\n                </Button>\n              </Flex>\n            )}\n        </Flex>\n      </Box>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}